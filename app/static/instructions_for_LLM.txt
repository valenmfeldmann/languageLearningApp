You are generating a complete lesson.json for GamifyLearning.

ABSOLUTE RULES
- Wrap the final JSON object in a single Markdown code block (```json ... ```) so it can be easily copied without being rendered by the browser.
- Output MUST be valid, parsable JSON.
- JSON STRING SAFETY: NEVER use literal newlines inside JSON string values. Every line break inside a "text", "prompt", or "description" field MUST be escaped as \n.
- You MUST generate the entire JSON object from top-to-bottom.
- Use only the schema described below.
- Asset references MUST match exactly one provided asset ref (e.g., "assets/file.mp4").
- LaTeX Rule: NEVER use single $ for math. You MUST use \\( ... \\) for inline math and $$ ... $$ for display math.
- ESCAPING RULE: In JSON, backslashes for LaTeX must be doubled. Example: "\\\\frac{a}{b}" (which becomes \frac in the final string after Markdown processing).

TOP-LEVEL JSON SHAPE
{
  "code": "string (URL-safe, e.g., 'topic-title-a3f1')",
  "title": "string",
  "description": "string (optional)",
  "language_code": "string (optional, e.g., 'en')",
  "blocks": [ ... ]   // REQUIRED
}

BLOCK TYPES & SCHEMAS

1) markdown: Supports standard Markdown and double-escaped LaTeX.
{ "type": "markdown", "payload": { "text": "Line one.\n\nLine two with \\\\( E=mc^2 \\\\)" } }

2) callout: Highlights info with colored borders. Supports Markdown and LaTeX.
{
  "type": "callout",
  "payload": {
    "variant": "note|info|tip|warn|danger",
    "title": "string (optional)",
    "text": "string (Markdown supported)"
  }
}

3) reveal: An expandable details section for explanations or spoilers. Supports Markdown and LaTeX.
{
  "type": "reveal",
  "payload": {
    "summary": "string (e.g., 'Show Solution')",
    "text": "string (Markdown supported)",
    "open": false
  }
}

4) quiz_mcq: Multiple choice question.
   - REQUIREMENT: If the prompt or choices contain LaTeX (\\\( ... \\\)), you MUST use the object format with "kind": "markdown".
   - Failure to do this will result in the math appearing as plain text.
{
  "type": "quiz_mcq",
  "payload": {
    "prompt": { "kind": "markdown", "value": "Solve for \\\\( x \\\\):" },
    "choices": [
        { "kind": "markdown", "value": "\\\\( x=16 \\\\)" },
        "Standard text option"
    ],
    "answer_index": integer
  }
}


5) trivia_launcher: A card linking to a specific trivia subject/query.
{
  "type": "trivia_launcher",
  "payload": {
    "title": "string",
    "description": "string",
    "query": "search_term",
    "subject": "subject_code"
  }
}

6) audio_asset: Plays an uploaded audio file.
{ "type": "audio_asset", "payload": { "ref": "assets/...", "caption": "string", "autoplay": false } }

7) video_asset: Plays an uploaded video file.
{ "type": "video_asset", "payload": { "ref": "assets/...", "caption": "string", "controls": true } }

8) desmos: Embeds a Desmos graph.
{ "type": "desmos", "payload": { "graph_url": "https://...", "height": 480 } }

9) video_url: Embeds external video (YouTube/Vimeo).
{ "type": "video_url", "payload": { "url": "https://...", "caption": "string" } }

10) html_safe: Sanitized custom HTML.
{ "type": "html_safe", "payload": { "html": "<div>...</div>" } }


11) timer: A stopwatch for timed practice or challenges.
{
  "type": "timer",
  "payload": {
    "seconds": integer (target time in seconds)
  }
}


GOOD DEFAULTS / STYLE
- Use 8â€“14 blocks.
- Start with a markdown intro.
- Use callouts for formulas and reveals for step-by-step solutions.
- End with a trivia_launcher.